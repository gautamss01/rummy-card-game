<html xmlns="http://www.w3.org/1999/xhtml"  > 
<head lang="en">
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
	<title>RUMMY</title>
	<!-- Framework CSS -->
	<link rel="stylesheet" href="assets/blueprint-css/screen.css" type="text/css" media="screen, projection">
	<link rel="stylesheet" href="assets/blueprint-css/print.css" type="text/css" media="print">
	<link href="styles/shCore.css" rel="stylesheet" type="text/css" >
	<link href="styles/shCoreDefault.css" rel="stylesheet" type="text/css" >
	<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" >
	
	<!--[if lt IE 8]><link rel="stylesheet" href="assets/blueprint-css/ie.css" type="text/css" media="screen, projection"><![endif]-->
	<link rel="stylesheet" href="assets/blueprint-css/plugins/fancy-type/screen.css" type="text/css" media="screen, projection">
	<style type="text/css" media="screen">
		p, table, hr, .box { margin-bottom:25px; }
		.box p { margin-bottom:10px; }
	</style>
	
	<script type="text/javascript" src="scripts/shCore.js"></script>
	<script type="text/javascript" src="scripts/shBrushJScript.js"></script>
	<script type="text/javascript" src="scripts/shBrushXml.js"></script>
</head>


<body>
	<div class="container">
	
		<h3 class="center alt">&ldquo;Rummy&rdquo; Documentation by &ldquo;Code This Lab S.r.l.&rdquo; v1.0</h3>
		
		<hr>
		
		<h1 class="center">&ldquo;Rummy&rdquo;</h1>
		
		<div class="borderTop">
			<div class="span-6 colborder info prepend-1">
				<p class="prepend-top">
					<strong>
					Created: 05/04/2019<br>
					By: <a href="http://www.codethislab.com" target="_blank">Code This Lab S.r.l.</a><br>
					Email: <a href="mailto:info@codethislab.com">info@codethislab.com</a>
					</strong>
				</p>
			</div><!-- end div .span-6 -->		
	
			<div class="span-12 last">
				<p class="prepend-top append-0">Thank you for purchasing our game. If you have any questions that are beyond the scope of this help file, please feel free to email via user page contact form <a href="http://codecanyon.net/user/codethislab?ref=codethislab">here</a>. Thanks so much!</p>
			</div>
		</div><!-- end div .borderTop -->
		
		<hr>
		
		<h2 id="toc" class="alt">Table of Contents</h2>
		<ol class="alpha">
			<li><a href="#desc">Description</a></li>
			<li><a href="#content">Folder Contents</a></li>
			<li><a href="#start">Getting Started</a></li>
			<li><a href="#htmlStructure">HTML Structure</a></li>
			<li><a href="#cssFiles">CSS Files and Structure</a></li>
			<li><a href="#javascript">Source Code</a></li>
			<li><a href="#game_function">Game functions</a></li>
			<li><a href="#change_graphics">Change Graphic</a></li>
			<li><a href="#disable_sound">Disable Sounds</a></li>
			<li><a href="#wp">Wordpress Plugin</a></li>
		</ol>
		
		<hr>
		
		<h3 id="desc"><strong>A) Description</strong> - <a href="#toc">top</a></h3>
		<p>Rummy is a HTML5 Card Game. Enjoy this stylish version of the classic Rummy Card Game!<br>
			
			<br>
			The ZIP package contains the game with 1920x1920 resolution that scales to fit the whole screen both in portrait and landscape mode<br>
			Just warning that for very wide screens, the game may not be perfectly full screen.
			The game is fully compatible with all most common mobile devices.<br>
			Sounds are enabled for mobile but we can't grant full audio compatibility on all mobile devices due to some well-know issue between some mobile-browser and HTML5.
			So if you want to avoid sound loading, please read <a href="#disable_sound">Disable Sound</a> section). <br>
			<strong>WARNING:</strong> Sounds can't be enabled for Windows Phone as this kind of device have unsolved issues with 'audio' and 'video' tag.
			
		</p>
		<hr>
		
		<h3 id="content"><strong>B) Folder Contents</strong> - <a href="#toc">top</a></h3>
		<p>
			The item package contains the following folders:
			<ul>
			<li><strong>ctl_arcade_wp_plugin</strong>:<br> This folder contains the game version (zip file inside) that can be used with wordpress plugin <a href="https://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421">CTL Arcade</a><br/><br/></li>
			<li><strong>game</strong>:<br> This folder contains the full source code that you can edit as you need.<br/><br/></li>
			<li><strong>live_demo</strong>:<br>This folder contains the obfuscated version of the game. <strong>WARNING</strong>: you should use this version if you don't have to edit the original game.<br/><br/></li>
			<li><strong>readme</strong>:<br>This folder contains the readme of the game.
			</ul>
		</p>
		<hr>    
		
		<h3 id="start"><strong>C)Getting Started</strong> - <a href="#toc">top</a></h3>
			<p>To install the game just upload on your server the game folder live_demo.
			
			<ul>
				<li><strong>Game Embedding: </strong>The proper way to embed the game is in a full-screen web page or in an iframe.<br>
                                        In the first case the game will fit the screen size, in the second, that of the iframe.<br>
                                        If the iframe size matches that of the screen, the game will fit accordingly.<br> 
                                        The alignment will be proportioned to the aspect ratio of the game.<br>
                                        To install the game in a WordPress website, we suggest to use our plugin <a href="http://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421?ref=codethislab"> CTL Arcade </a>. <br><br>

				<li> <strong>Localization:</strong> You can easily change game text for different languages, changing string in <strong>CLang.js</strong></li>
				
				<pre class="brush: js">
					var TEXT_PLAYER = "PLAYER";
					var TEXT_WINNER = "WINNER IS";
					var TEXT_NICK = "NICKNAME";
					var TEXT_SCORE = "SCORE";
					var TEXT_WIN = "WIN";
					var TEXT_POINTS = "POINTS";
					var TEXT_CARDS = "CARDS"
					var TEXT_GAME_OVER = "ROUND OVER";
					var TEXT_SELECT_NUM = "SELECT NUMBER OF PLAYERS";
					var TEXT_NO_WASTE = "YOU CAN'T DROP A CARD IN THE WASTE PILE BEFORE GETTING A CARD FROM THE DECK";
					var TEXT_NO_DROP = "YOU CAN'T CREATE A COMBINATION BEFORE GETTING A CARD FROM THE DECK";
					var TEXT_NOT_ENOUGH_POINTS = "NOT ENOUGH POINTS FOR OPENING";
					var TEXT_INVALID_COMBO = "INVALID COMBINATION";
					var TEXT_INVALID_CARD_IN_COMBO = "THIS CARD CAN'T BE USED FOR THIS COMBINATION!";
					var TEXT_CANT_PLACE_CARDS_IF_NOT_OPENING = "CAN'T PLACE ANY CARD BEFORE OPENING. YOU NEED AT LEAST";
					var TEXT_INCOMPLETE_COMBO = "ONE OF YOUR COMBINATION ON THE TABLE IS INCOMPLETE. DO YOU WANT TO REMOVE IT?";
					var TEXT_REMOVE_COMBO = "DO YOU WANT TO REMOVE THIS COMBO?";
					var TEXT_CANT_DISCARD_WASTE_CARD = "YOU CAN'T DISCARD A CARD YOU PICKED FROM THE WASTE PILE PREVIOUSLY";
					var TEXT_PRELOADER_CONTINUE = "START";
					var TEXT_DOUBLE = "DOUBLE SCORE";
					var TEXT_ARE_YOU_SURE = "ARE YOU SURE?";

					var TEXT_HELP_WASTE = "DISCARD A CARD IN THE WASTE PILE!";
					var TEXT_HELP_TITLE = ["RULES","STOCK PILE","MELDS","SCORING"];
					var TEXT_TRIS = "TRIS";
					var TEXT_POKER = "POKER";
					var TEXT_STRAIGHT = "STRAIGHT";
					var TEXT_HELP_0 = "RUMMY IS A CARD GAME WHERE THE AIM IS TO PUT ALL YOUR CARDS INTO COMBINATION BEFORE YOUR OPPONENTS. WHEN THE GAME STARTS, EACH PLAYER RECEIVES ";
					var TEXT_HELP_1 = "ONCE ALL CARDS ARE DEALED TO ALL THE PLAYERS, THE REMAINING CARDS ARE PLACED FACE DOWN ON THE TABLE, FORMING THE STOCK.THE TOP CARD IS TURNED UPWARD IN THE WASTE PILE.";
					var TEXT_HELP_2 = "EACH TURN, THE CURRENT PLAYER CAN CHOOSE TO PICK UP THE CARD FROM THE WASTE PILE OR FROM THE STOCK.";
					var TEXT_HELP_3 = "THE PLAYER CHECKS IF HE CAN PLACE ON THE TABLE ONE OR MORE COMBINATIONS OR JUST DISCARD A CARD FROM HIS OWN HAND";
					var TEXT_HELP_4 = "WHEN A PLAYER PLACES ALL THE CARDS, HE WINS THE ROUND. THE WINNING SCORE IS THE SUM OF THE CARD RANKS OF ALL THE OPPONENTS. FACE CARDS COUNT 10 EACH, ACES";
					var TEXT_HELP_5 = "EACH, AND EVERY OTHER CARD THEIR VALUE."
					var TEXT_HELP_6 = "THE FIRST PLAYER THAT REACHES THE SCORE OF";
					var TEXT_HELP_7 = "WINS THE GAME!";
					var TEXT_HELP_8 = "YOU CAN START PLACING CARDS ONLY ONCE THE SUM OF THE CARD RANKS IS AT LEAST "; 
					var TEXT_HELP_9 = "IF THE WINNER PLACES ALL CARDS IN 1 TURN, HE DOUBLES THE POINTS!"; 
					var TEXT_DEVELOPED = "DEVELOPED BY";
					var TEXT_ERR_LS = "YOUR WEB BROWSER DOES NOT SUPPORT LOCAL STORAGE. IF YOU'RE USING SAFARI, IT MAY BE RELATED TO PRIVATE BROWSING. AS A RESULT, SOME INFO MAY NOT BE SAVED OR SOME FEATURES MAY NOT BE AVAILABLE.";

					var TEXT_SHARE_IMAGE = "200x200.jpg";
					var TEXT_SHARE_TITLE = "Congratulations!";
					var TEXT_SHARE_MSG1 = "You collected <strong>";
					var TEXT_SHARE_MSG2 = " points</strong>!<br><br>Share your score with your friends!";
					var TEXT_SHARE_SHARE1 = "My score is ";
					var TEXT_SHARE_SHARE2 = "points! Can you do better";
				</pre>
			</ul>
			</p>
		<hr>
		
		<h3 id="htmlStructure"><strong>D)HTML Structure</strong> - <a href="#toc">top</a></h3>
		<p>This game have the canvas tag in the body. The ready event into the body calls the main function of the game: CMain(). 
		<br>The head section declares all the javascript functions of the game. The whole project uses a typical object-oriented approach.<br> 
		In the init function there are 7 mapped <a href="#events">events</a> that can be useful eventually for stats</p>
		
		<pre class="brush: js">
			<body  ondragstart="return false;" ondrop="return false;" >
				  <script>
				   $(document).ready(function(){
							$(oMain).on("start_session", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN PLAY BUTTON IN MENU SCREEN IS CLICKED
							 });
							 
							$(oMain).on("end_session", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN THE EXIT BUTTON IS CLICKED.
							});
							 
							$(oMain).on("save_score", function(evt,iScore, szMode) {
									//THIS EVENT IS TRIGGERED WHEN GAME IS OVER. IT CAN BE USEFUL TO CALL PHP SCRIPTS (NOT PROVIDED IN THE PACKAGE) THAT SAVE THE SCORE.
							 });
							 
							 $(oMain).on("show_interlevel_ad", function(evt) {
									//THIS EVENT IS TRIGGERED WHEN GAME IS OVER. MAY BE USEFUL TO CALL ADS SCRIPT.
							 });
							 
							 $(oMain).on("share_event", function(evt,iScore) {
									//THIS EVENT IS TRIGGERED WHEN GAME OVER IS SHOWN.
							 });
						   });
						
				  </script>
				  
				<canvas id="canvas" class='ani_hack' width="1920" height="1920"> </canvas>
			</body>
		</pre>
		<li><strong>Game option:</strong> You can easily customize game setting when creating a new instance of the game in <strong>index.html</strong> file</li>
				<pre class="brush: js">
					var oMain = new CMain({
												num_cards_for_2_players:10,  //NUMBER OF CARD TO DEAL FOR EACH PLAYER WHEN THERE ARE 2 PLAYERS. DEFAULT IS 10.MIN VALUE IS 4. MAXIMUM VALUE IS 13.
                                                num_cards_for_3_players:7,  //NUMBER OF CARD TO DEAL FOR EACH PLAYER WHEN THERE ARE 3 PLAYERS. DEFAULT IS 10.MIN VALUE IS 4. MAXIMUM VALUE IS 13.
                                                num_cards_for_4_players:7,  //NUMBER OF CARD TO DEAL FOR EACH PLAYER WHEN THERE ARE 4 PLAYERS. DEFAULT IS 10.MIN VALUE IS 4. MAXIMUM VALUE IS 13.
                                                
                                                min_point_for_opening:0,   //WHEN USER WANT TO START MELDING CARDS ON THE TABLE, THE SUM OF THE COMBOS MUST BE THIS VALUE OR MORE
                                                joker_available:false,      //SET IF JOKER ARE AVAILABLE IN THE STARTING DECK OR NOT.
                                                ace_high:true,             //SET THIS VALUE = TRUE TO ALLOW THE STRAIGHT: QUEEN, KING, ACE (Q K A).
                                                going_rummy_rule:true,     //SET 'GOING RUMMY' RULE ACTIVE/DISACTIVE. IF ACTIVE, A PLAYER THAT LAYS OFF ALL THEIR ENTIRE HAND IN A SINGLE TURN,
                                                                           //GET A DOUBLED SCORE FROM THE OTHER PLAYERS
                                                
                                                score_to_reach_for_2_players:  100, //SCORE TO REACH IF THERE ARE 2 PLAYERS
                                                score_to_reach_for_3_players:  150, //SCORE TO REACH IF THERE ARE 3 PLAYERS
                                                score_to_reach_for_4_players:  200, //SCORE TO REACH IF THERE ARE 4 PLAYERS
                                                
                                                score_ace: 1,            //SCORE ASSIGNED FOR ACE CARD WHEN ROUND IS OVER
                                                score_joker: 15,         //SCORE ASSIGNED FOR JOKER CARD WHEN ROUND IS OVER
                                                
                                                fullscreen:true     //SET THIS TO FALSE IF YOU DON'T WANT TO SHOW FULLSCREEN BUTTON
                                           });
				</pre>
		<hr>

		<h3 id="cssFiles"><strong>E) CSS Files and Structure</strong> - <a href="#toc">top</a></h3>

		<p>The game use two CSS files. The first one is a generic reset file. Many browser interpret the default behavior of html elements differently. By using a general reset CSS file, we can work round this. 
		Keep in mind, that these values might be overridden somewhere else in the file.</p> 

		<p>The second file contains all of the specific stylings for the canvas and some hack to be fully compatible with all most popular mobile devices</p>  

		<hr>
		
		<h3 id="javascript"><strong>F) Source Code</strong> - <a href="#toc">top</a></h3>
		
		<p>This game contains:</p>
		
		<ol>
			<li>jQuery</li>
			<li>Our custom scripts</li>
			<li>CreateJs plugin</li>
			<li>Howler Sound library</li>
		</ol>
		  
		<ol>
			<li>jQuery is a Javascript library that greatly reduces the amount of code that you must write.</li>
			<li>The game have the following js files:
	
			<ul>
				<li>CMain: the main class called by the index file. <br>This file controls the sprite_lib.js file that manages the sprite loading, the loop game and initialize the canvas with the CreateJs library</li>
				<li>ctl_utils: this file manages the canvas resize and its centering</li>
				<li>sprite_lib: this class loads all images declared in the main class</li>
				<li>settings: general game settings</li>
				<li>CLang: global string variables for language localization</li>
				<li>CPreloader: simple text preloader to show resources loading progress</li>
				<li>CMenu: simple menu with the play button</li>
				<li>CGfxButton: this class create a standard button</li>
				<li>CToggle: this class create a standard toggle button</li>
				<li>CTextButton: this class create a standard text button</li>
				<li>CVector2: this class manages 2D Vectors.</li>
				<li>CGame: this class manages the game logic</li>
				<li>CInterface: this class controls game GUI that contains text and buttons</li>
				<li>CAreYouSurePanel: this class show are you sure panel.</li>
				<li>CAiController: this class manages the AI opponents.</li>
				<li>CCard: this class manages the card sprite.</li>
				<li>CCardHandDisplay: this class manages the cards of each player.</li>
				<li>CHelpPanel: this class shows help panel.</li>
				<li>CCreditsPanel: this class shows credits panel.</li>
				<li>CChoosePanel: this class shows message box during gameplay</li>
				<li>CComboOnTable: this class manages the combos placed on the table.</li>
				<li>CCursorHandController: this class manages the help cursor while playing.</li>
				<li>CDeckController: this class manages the card deck on the table.</li>
				<li>CEasing: this class contains some easing functions for the tweening.</li>
                <li>CGuiExpandible: this class manages setting button in game GUI.</li>
				<li>CGameOverPanel: this class show a message box when round is over.</li>
				<li>CHandEvaluatorController: this class manages the evaluation of the cards.</li>
				<li>CNickLabel: this class shows the player nickname.</li>
				<li>CRummyAnim: this class show the rummy animation.</li>
				<li>CScoreBoard: this class shows player scores in round over panel.</li>
				<li>CSelectNumPlayersPanel: this class shows the panel where user can choose the number of players.</li>
				<li>CTableController: this class manages the table where the cards are placed.</li>
				<li>CWinPanel: this class shows the game over panel.</li>
			</ul>

			</li>
			
			<li>CreateJs is a suite of modular libraries and tools which work together to enable rich interactive content on open web technologies via HTML5.
			</li>
			
			<li>Howler is a javascript Audio library.
			</li>
		</ol>
		
		<p>Resuming, the complete game flow is the following: </p>
		<ol>
			<li>The index.html file calls the CMain.js file after ready event is called</li>
			<li>The main class calls CPreloader.js to init preloader text and start sprite loading</li>
			<li>When all sprites contained in "/sprites" and "/sounds" folder are loaded, the main class removes the preloader and calls the CMenu.js file that shows the main menu</li>
			<li>If the user click the Play button in main menu, the CSelectNumPlayersPanel.js class is called and the number of players is shown</li>
			<li>After selection, the game starts.</li>
			<li>If the user click on the exit button in the down-right corner, the game returns to the menu screen</li>	
		</ol>		
		
		<hr>
		
		<h3 id="game_function"><strong>G) Game functions</strong> - <a href="#toc">top</a></h3>
			In this section will be explained all the most important functions used in <strong>CGame.js</strong> file. <br><br>
		
		<ul>
			<li><strong>_init()</strong> <br>
				This function attach on the canvas some game sprites like background (oBg)and the GUI. 
			</li>
			<li><strong>_initHandPlayers()</strong> <br>
				This function initialize all the card hands of the players.
			</li>
            <li><strong>dealCardToPlayer()</strong> <br>
				This function deal a card to a player.
			</li>
            <li><strong>dealCardInWastePile()</strong> <br>
				This function place a card in the waste pile.
			</li>
            <li><strong>_checkComboUnderConstruction()</strong> <br>
				This function checks if a card can be placed on a combo.
			</li>
            <li><strong>_changeTurn()</strong> <br>
				This function changes player turn.
			</li>
            <li><strong>_checkCollisionBetweenCardAndHand()</strong> <br>
				This function checks collision between a card and the player hand.
			</li>
			<li><strong>_checkCollisionBetweenCardAndWastePile()</strong> <br>
				This function checks collision between a card and the waste pile.
			</li>
			<li><strong>_checkCollisionBetweenCardAndAttachSprite()</strong> <br>
				This function checks collision between a card and a combo.
			</li>
			<li><strong>unload</strong> <br>
				This function is called when user want to exit from the game.
			</li>
			<li><strong>_calculateScore()</strong> <br>
				This function calculates the final score when a round is over.
			</li>
			<li><strong>update()</strong> <br>
				This function manages the main game loop.
			</li>
		</ul>
		
		<hr>
		
		<h3 id="change_graphics"><strong>H) Change Graphic</strong> - <a href="#toc">top</a></h3>
		<p>
			You can easily change all the game graphic, replacing all the file you need in the "/sprites" folder. Just respect file format (.png or .jpg) and size if you don't want to change any code line.<br>
		</p>

		<h3 id="disable_sound"><strong>I) Disable Sounds</strong> - <a href="#toc">top</a></h3>
		<p>If you want to disable all the sounds for mobile devices, you have to change the following value in settings.js file:</p>
			<pre class="brush: js">var DISABLE_SOUND_MOBILE = true;</pre>
		
		<br><br>
		
		<h3 id="wp"><strong>J) Wordpress Plugin</strong> - <a href="#toc">top</a></h3>
		<p><a href="http://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421?ref=codethislab">CTL Arcade</a> will allow you to add a real arcade on your worpress website, in this way your users will be more involved and will stay connected longer.<br><br>
			It's possible to add Ads banner at the beginning of each game and at the end of each level. This will give you a new tool to increase your revenues.<br><br>
			Your own users will promote your website sharing their scores on the main Social Networks, with no extra costs for you.<br><br>
			You'll get by default the score-sharing on Twitter. To add Facebook just follow the guideline below.<br><br>
			3 widgets can be added in your pages through a shortcode.<br>
			<ul>
				<li><strong>Game iframe</strong></li>
				<li><strong>Rate the Game</strong></li>
				<li><strong>Leaderboard</strong></li>
			</ul>
			Minimum Requirements:<br><br>
			<ul>
				<li><strong>PHP 4.3</strong></li>
				<li><strong>WordPress 4.3.1</strong></li>
				<li><strong>HTML5</strong></li>
				<li><strong>Canvas</strong></li>
				<li><strong>Javascript / jQuery</strong></li>
			</ul>
			
			<strong>This plugin is designed to work only with games built by Code This Lab.</strong>
			<br><br>
			You can find it <a href="http://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421?ref=codethislab">here!</a> 
			
		</p>
		<a href="http://codecanyon.net/item/ctl-arcade-wordpress-plugin/13856421?ref=codethislab">
			<img src="assets/images/ctl_arcade.jpg" alt="ctl arcade" />
		</a>
		
		<br><br>
		
		<p>Once again, thank you so much for purchasing this game. Feel free to contact us if you have any questions or issue relating to this game. No guarantees, but we'll do our best to assist.</p> 
		
		<p class="append-bottom alt large"><a href="http://www.codethislab.com" target="_blank"><strong>CODE THIS LAB S.R.L.</strong></a></p>
		<p><a href="#toc">Go To Table of Contents</a></p>
		
		<hr class="space">
	</div>
	<!-- end div .container -->

	<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
	<script type="text/javascript">
		 SyntaxHighlighter.all()
	</script>
</body>
</html>